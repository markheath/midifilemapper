<html xmlns="http://www.w3.org/1999/xhtml">
<head><title>MIDI File Mapper</title></head>
<body style="font-family: Times New Roman">
<h1>MIDI File Mapper</h1>

<p>MIDI File Mapper is a utility designed to make it easy to map MIDI note events in
MIDI files. A typical use would be to convert MIDI files containing drum beats to target
a different drum sampler than the one they were written for. MIDI File Mapper can use 
Cakewalk SONAR drum maps and Steinberg Cubase drum maps, as well as its own more flexible
mapping format.
</p>

<h2>Download</h2>

<p>A link to the latest version of MIDI File Mapper can be found 
<a href="http://www.wordandspirit.co.uk/software.html#mfm">here</a>.</p>

<h2>Installation and Requirements</h2>

<p>MIDI File mapper requires the .NET framework version 2.0 or newer to be installed. 
You can download this <a href="http://msdn.microsoft.com/netframework/downloads/updates/default.aspx">here</a>. 
Once you have the .NET framework installed on your PC, you can run the installer. 
Midi File Mapper can be uninstalled at any time using its uninstaller. It will delete all the
files it installed on your PC, but if you have created some extra maps of your own, they will
not be deleted. If you have modified any of the included maps, you should back them up before
installing a new version of MIDI File Mapper as they will be overwriiten.</p>

<h2>Instructions</h2>

<p>TODO</p>

<h2>Map File Format</h2>

<p>If you are a user of Cakewalk SONAR or Steinberg Cubase, then you may not need to learn the
MIDI File Mapper XML mapping format at all. You simply set up a drum map in your sequencer, test 
that it performs the mapping you require, and save it to a file, which can be later loaded into
MIDI File Mapper. However, if you do not own these sequencers, or if you want even greater control
over the precise nature of the mapping, then you will need to learn to use MIDI File Mapper's built in
format.
</p>
    <p>
        The format is standard XML, and the top level node name must be <strong>MidiMappingRules</strong>.</p>

<h3>1. The General Section</h3>
<p>The <strong>General</strong> section includes the <strong>Name</strong> of the map
    and any <strong>Author</strong> and <strong>Version</strong> information. It is the first section
in the mapping file. The values in this section are not strictly
    needed, but are useful.
</p>

<code>
    <?xml encoding="utf-8" version="1.0" ?><?xml encoding="utf-8" version="1.0" ?>&lt;?xml version="1.0" encoding="utf-8" ?&gt;<br />
    &lt;MidiMappingRules&gt;<br />
    <strong>&nbsp; &lt;General&gt;<br />
    </strong>&nbsp; &nbsp; &lt;Name&gt;GM to Latin Percussion EZX&lt;/Name&gt;<br />
    &nbsp; &nbsp; &lt;Author&gt;Mark Heath&lt;/Author&gt;<br />
    &nbsp; &nbsp; &lt;Version&gt;1.0&lt;/Version&gt;<br />
    <strong>&nbsp; &lt;/General&gt;<br />
    </strong>&nbsp; ...<br />
    &lt;/MidiMappingRules&gt;<br />
</code>

<h3>2. NoteMap Rules</h3>

<p>After the General section will typically come a number of <strong>NoteMap </strong>
    nodes. You will normally add one of these for each MIDI note you wish to map. You
    can also set one up to map a range of notes. By default, MIDI File Mapper will exclude
    all notes from the output file unless they are explicitly present here.</p>
    <p>
        The <strong>Name</strong> attribute gives it a user friendly name - useful for naming
        kit pieces in a drum map.</p>
    <p>
        The <strong>InNote </strong>attribute specifies which MIDI note numbers (0-127)
        will be affected by this rule. You can specify a single number (e.g. "25"), a range
        (e.g. "30-40") or even a list of values (e.g. "50,62,74"). If omitted value will
        be set to "*", which indicates that all notes will be affected.</p>
    <p>
        The <strong>InChannel </strong>attribute specifies which MIDI channels (1-16) will
        be affected by this rule. By default this is "*" - all channels, but you can limit
        it to just one channel or a list of channels if you wish.</p>
    <p>
        The <strong>InVelocity </strong>attribute specifies the MIDI velocity range (0-127)
        for events that will be affected by this rule. By default this is "*" - all velocity values,
        but you can limit it a range of velocities if you wish (e.g. "0-64").</p>
    <p>
        The <strong>OutNote</strong> attribute specifies the MIDI note number that note
        events matching the InNote, InChannel and InVelocity will be mapped to. For drum
        maps this will typically be a set number (e.g. "62"), but you can also transpose
        (e.g. "+12" or "-1"). By default the InNote will remain unchanged.</p>
    <p>
        The <strong>OutChannel </strong>attribute specifies the MIDI channel (1-16) that
        events matching this rule will be mapped to. This will normally be a set number
        (e.g. "1") or can be left out so its channel will be unchanged.</p>
    <p>
        The <strong>OutVelocity</strong> attribute allows the note velocity of matching
        events to be modified. They can be set to a set value (e.g. "100"), adjusted by
        a fixed amount (e.g. "+20" or "-4"), scaled (e.g. "50%", or "200%") or left unchanged
        (the default "*").</p>
    <p>
        The <strong>OutDuration</strong> attribute allows the duration of matching note
        events to be modified. They can be set to a set number of ticks (e.g. "15"), adjusted
        by a fixed amount (e.g. "+20" or "-4"), scaled (e.g. "50%", or "200%") or left unchanged
        (the default "*").</p>
    <p>
        The following example shows a note on any channel with note number 36 being passed
        through unchanged to the output file.<?xml encoding="utf-8" version="1.0" ?><?xml
            encoding="utf-8" version="1.0" ?></p>
    <p>
        <code>&lt;NoteMap Name="Bass Drum" InNote="36" OutNote="36" /&gt;</code></p>
    <p>
        The following example shows a note on any channel with note number 36 being passed
            through to the output file with its channel being set to channel 1.<?xml encoding="utf-8" version="1.0" ?><?xml
                encoding="utf-8" version="1.0" ?></p>
    <p>
        <code></code><code>&lt;NoteMap Name="Bass Drum" InNote="36" OutNote="36" OutChannel="1"
            /&gt;<br />
        </code>
    </p>
    
<h3>3. ControllerMap Rules</h3>

<p>Often you simply want to remap notes, but if your MIDI files contain controllers, you may 
wish to move them to a different channel, or modify them in some other way. The <b>ControllerMap</b>
node allows you to do this, in a similar way to NoteMap.</p>

    <p>
        The <strong>Name</strong> attribute gives it a user friendly name - for example, what
        this controller is for.</p>
    <p>
        The <strong>InController</strong> attribute specifies which MIDI controllers (0-127)
        will be affected by this rule. You can specify a single number (e.g. "25"), a range
        (e.g. "30-40") or even a list of values (e.g. "50,62,74"). If omitted value will
        be set to "*", which indicates that all controllers will be affected.</p>
    <p>
        The <strong>InChannel</strong> attribute specifies which MIDI channels (1-16) will
        be affected by this rule. By default this is "*" - all channels, but you can limit
        it to just one channel or a list of channels if you wish.</p>
    <p>
        The <strong>InValue</strong> attribute specifies the controller value range (0-127)
        for events that will be affected by this rule. By default this is "*" - all controller values,
        but you can limit it a range of controller values if you wish (e.g. "0-64").</p>
    <p>
        The <strong>OutController</strong> attribute specifies the MIDI controller number that controller
        events matching the InController, InChannel and InValue will be mapped to. 
        This will typically be a set number (e.g. "62") if you want to change from one
        controller value to another. By default the controller number will remain unchanged.</p>
    <p>
        The <strong>OutChannel</strong> attribute specifies the MIDI channel (1-16) that
        events matching this rule will be mapped to. This will normally be a set number
        (e.g. "1") or can be left out so its channel will be unchanged.</p>
    <p>
        The <strong>OutValue</strong> attribute allows the controller value of matching
        events to be modified. They can be set to a set value (e.g. "100"), adjusted by
        a fixed amount (e.g. "+20" or "-4"), scaled (e.g. "50%", or "200%") or left unchanged
        (the default "*").</p>

<h3>4. Exclude Rules</h3>

<p>There may be some types of MIDI event that you would like to exclude from the resulting output
file, such as controllers or MIDI meta-events. The <b>Exclude</b> node allows you to choose which events will
be excluded from the output file.</p>

<p>The <b>EventType</b> attribute specifies what type of events to exclude and is set to one of the following values:
<ul><li>Controller</li>
        <li>PitchWheel</li>
        <li>PatchChange</li>
        <li>ChannelAfterTouch</li>
        <li>KeyAfterTouch</li>
        <li>Copyright</li>
        <li>Text</li>
        <li>Marker</li>
        <li>Sysex</li>
        <li>NonStandard (MIDI meta events not found in the MIDI spec)</li>
        <li>SequencerSpecific</li>
        <li>SmpteOffset</li>
        <li>CuePoint</li>
        <li>Lyric</li>
        <li>DeviceName</li>
        <li>ProgramName</li>
        <li>TrackInstrumentName</li>
        <li>SequenceTrackName</li>
        <li>TrackSequenceNumber</li>
        <li>ContinueSequence</li>
        <li>StopSequence</li>
        <li>StartSequence</li>
        <li>TimingClock</li>
        <li>All (all the above)</li>
</ul>
<p>The <b>Channel</b> attribute specifies which channels will be excluded for the event type specified (note
this only applies to MIDI events that have channels). By default this will be all channels (i.e. "*").
</p>

<h3>4. Insert Rules</h3>

<h3>5. AfterTouch Rules</h3>

<h3>6. PitchWheelChange Rules</h3>

<h2>Version History</h2>


<p>New versions of MIDI File Mapper can be found at <a href="http://www.wordandspirit.co.uk/software.html#mfm">http://www.wordandspirit.co.uk/software.html</a>.</p>

<ul>
<li>v0.1 ???
	<ul>
		<li>First public beta release</li>
	</ul>
</li>
</ul>

</body>
</html>